# ====================================
# VARIABLES DE ENTORNO - DUAL CONFIG
# Sistema con soporte para dos portfolios
# ====================================

# ====================================
# CONFIGURACIÓN PRINCIPAL (ACTUAL)
# Portfolio ID: 880566844730976
# ====================================

# WhatsApp API Principal
WHATSAPP_APP_ID=849706941272247
WHATSAPP_APP_SECRET=tu_app_secret_principal
WHATSAPP_VERIFY_TOKEN=tu_verify_token

# Facebook Login Principal
FACEBOOK_APP_ID=849706941272247
FACEBOOK_APP_SECRET=tu_app_secret_principal

# ====================================
# CONFIGURACIÓN LEGACY (BACKUP)
# Portfolio ID: 1473689432774278
# ====================================

# WhatsApp API Legacy
WHATSAPP_APP_ID_LEGACY=1860852208127086
WHATSAPP_APP_SECRET_LEGACY=tu_app_secret_legacy

# Facebook Login Legacy
FACEBOOK_APP_ID_LEGACY=1860852208127086
FACEBOOK_APP_SECRET_LEGACY=tu_app_secret_legacy

# ====================================
# CONFIGURACIÓN COMPARTIDA
# ====================================

# Cifrado de Tokens
ENCRYPTION_KEY=tu_encryption_key_32_caracteres

# Firebase
FIREBASE_DATABASE_URL=https://kds-app-7f1d3-default-rtdb.firebaseio.com
FIREBASE_PROJECT_ID=kds-app-7f1d3

# ⚠️ IMPORTANTE: Genera esta variable con:
# base64 -i server/firebase-service-account.json | pbcopy
# Luego pega el resultado aquí:
FIREBASE_SERVICE_ACCOUNT_KEY=<base64_del_service_account>

# Servidor
PORT=3000
NODE_ENV=production

# URLs del servidor (actualizar después del deploy)
BASE_URL=https://tu-proyecto.up.railway.app
FRONTEND_URL=https://kdsapp.site

# Webhook verify token (mismo para ambas configuraciones)
WEBHOOK_VERIFY_TOKEN=kds_webhook_token_2026

# ====================================
# RUTAS DISPONIBLES
# ====================================
# Principal:
#   - GET  /api/whatsapp/callback          (onboarding.html)
#   - POST /webhook/whatsapp               (mensajes entrantes)
#   - GET  /webhook/whatsapp               (verificación)
#
# Legacy:
#   - GET  /api/whatsapp/callback-legacy   (onboarding-2.html)
#   - POST /webhook/whatsapp-legacy        (mensajes entrantes)
#   - GET  /webhook/whatsapp-legacy        (verificación)
# ====================================

# ====================================
# CONFIGURACIÓN EN META DASHBOARD
# ====================================
# Principal (Portfolio: 880566844730976):
#   - App ID: 849706941272247
#   - Callback URL: https://tu-proyecto.up.railway.app/api/whatsapp/callback
#   - Webhook URL: https://tu-proyecto.up.railway.app/webhook/whatsapp
#
# Legacy (Portfolio: 1473689432774278):
#   - App ID: 1860852208127086
#   - Callback URL: https://tu-proyecto.up.railway.app/api/whatsapp/callback-legacy
#   - Webhook URL: https://tu-proyecto.up.railway.app/webhook/whatsapp-legacy
# ====================================

# ====================================
# NOTAS IMPORTANTES
# ====================================
# 1. NO incluir comillas en los valores
# 2. Las URLs se actualizan después del primer deploy
# 3. FIREBASE_SERVICE_ACCOUNT_KEY es Base64 del archivo JSON
# 4. Ambas configuraciones comparten Firebase y encryption key
# 5. La configuración principal es la recomendada para nuevos clientes
# 6. La configuración legacy es solo para backup y pruebas
# ====================================
