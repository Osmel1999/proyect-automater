<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesi贸n - KDS App</title>
    <!-- Deploy: 2025-01-15 11:15 AM - Fix: Redirecci贸n a select.html -->
    <!-- Force Deploy: 2025-01-15 - Men煤 din谩mico bot + Fix redirecci贸n -->
    
    <!-- Auth Styles -->
    <link rel="stylesheet" href="css/auth.css">
</head>
</head>
<body>
    <div class="auth-container">
        <div class="auth-header">
            <h1> KDS App</h1>
            <p>Sistema de Gesti贸n de Pedidos</p>
        </div>

        <div class="auth-body">
            <div class="tabs">
                <button class="tab active" data-tab="login">Iniciar Sesi贸n</button>
                <button class="tab" data-tab="register">Registrarse</button>
            </div>

            <div id="alertContainer"></div>

            <!-- Login Form -->
            <div id="loginSection" class="form-section active">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">Correo Electr贸nico</label>
                        <input type="email" id="loginEmail" required>
                    </div>

                    <div class="form-group">
                        <label for="loginPassword">Contrase帽a</label>
                        <input type="password" id="loginPassword" required>
                    </div>

                    <button type="submit" class="btn btn-primary">Iniciar Sesi贸n</button>
                </form>

                <div class="loading" id="loginLoading">
                    <div class="spinner"></div>
                    <p>Iniciando sesi贸n...</p>
                </div>
            </div>

            <!-- Register Form -->
            <div id="registerSection" class="form-section">
                <form id="registerForm">
                    <div class="form-group">
                        <label for="registerName">Tu Nombre</label>
                        <input type="text" id="registerName" required>
                    </div>

                    <div class="form-group">
                        <label for="registerBusinessName">Nombre del Negocio</label>
                        <input type="text" id="registerBusinessName" required>
                    </div>

                    <div class="form-group">
                        <label for="registerEmail">Correo Electr贸nico</label>
                        <input type="email" id="registerEmail" required>
                    </div>

                    <div class="form-group">
                        <label for="registerPassword">Contrase帽a</label>
                        <input type="password" id="registerPassword" required minlength="6">
                        <span class="error-message" id="passwordError">La contrase帽a debe tener al menos 6 caracteres</span>
                    </div>

                    <div class="form-group">
                        <label for="registerPasswordConfirm">Confirmar Contrase帽a</label>
                        <input type="password" id="registerPasswordConfirm" required>
                        <span class="error-message" id="passwordConfirmError">Las contrase帽as no coinciden</span>
                    </div>

                    <div class="form-group">
                        <label>PIN de Seguridad (4 d铆gitos)</label>
                        <div class="pin-input-group">
                            <input type="text" class="pin-digit" maxlength="1" pattern="[0-9]" required>
                            <input type="text" class="pin-digit" maxlength="1" pattern="[0-9]" required>
                            <input type="text" class="pin-digit" maxlength="1" pattern="[0-9]" required>
                            <input type="text" class="pin-digit" maxlength="1" pattern="[0-9]" required>
                        </div>
                        <span class="error-message" id="pinError">PIN no v谩lido. No uses n煤meros secuenciales como 0000, 1234, etc.</span>
                    </div>

                    <div class="info-text">
                        El PIN se usar谩 para proteger el acceso a tu dashboard
                    </div>

                    <button type="submit" class="btn btn-primary">Crear Cuenta</button>
                </form>

                <div class="loading" id="registerLoading">
                    <div class="spinner"></div>
                    <p>Creando cuenta...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <!-- Configuraci贸n de Firebase -->
    <script src="config.js"></script>


    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <!-- Auth Script -->
    <script src="js/auth.js"></script>
</body>
</html>
