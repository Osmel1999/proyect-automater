{
  "rules": {
    ".read": false,
    ".write": false,
    
    "users": {
      ".read": "auth != null",
      ".write": "auth != null",
      ".indexOn": ["email", "tenantId", "firebaseUid"],
      "$userId": {
        ".read": true,
        ".write": true
      }
    },
    
    "tenants": {
      "$tenantId": {
        ".read": true,
        ".write": true,
        ".indexOn": ["status", "createdAt"],
        
        "historial": {
          ".read": true,
          ".write": true,
          ".indexOn": ["timestamp", "estado", "paymentStatus", "fecha"],
          "$pedidoId": {
            ".read": true,
            ".write": true
          }
        },
        
        "pedidos": {
          ".read": true,
          ".write": true,
          ".indexOn": ["timestamp", "estado", "paymentStatus"],
          "$pedidoId": {
            ".read": true,
            ".write": true
          }
        },
        
        "menu": {
          ".read": true,
          ".write": true
        },
        
        "paymentConfig": {
          ".read": true,
          ".write": true
        },
        
        "deliveryCost": {
          ".read": true,
          ".write": true
        },
        
        "deliveryTime": {
          ".read": true,
          ".write": true
        }
      }
    },
    
    "whatsappNumbers": {
      ".read": true,
      ".write": true,
      ".indexOn": ["tenantId"]
    },
    
    "appConfig": {
      ".read": true,
      ".write": false
    },
    
    "transactions": {
      ".read": true,
      ".write": true,
      ".indexOn": ["reference", "paymentLinkId", "wompiTransactionId", "status", "restaurantId"]
    },
    
    "_backup_pedidos_legacy": {
      ".read": true,
      ".write": false
    }
  }
}
