{
  "rules": {
    ".read": false,
    ".write": false,
    
    "users": {
      ".read": "auth != null",
      ".write": "auth != null",
      ".indexOn": ["email", "tenantId", "firebaseUid"],
      "$userId": {
        ".read": true,
        ".write": true
      }
    },
    
    "tenants": {
      "$tenantId": {
        ".read": true,
        ".write": true,
        ".indexOn": ["status", "createdAt"]
      }
    },
    
    "whatsappNumbers": {
      ".read": true,
      ".write": true,
      ".indexOn": ["tenantId"]
    },
    
    "appConfig": {
      ".read": true,
      ".write": false
    },
    
    "pedidos": {
      ".read": true,
      ".write": true,
      ".indexOn": ["timestamp", "estado"]
    },
    
    "historial": {
      ".read": true,
      ".write": true,
      ".indexOn": ["timestamp", "estado", "horaEntrega"]
    },
    
    "orders": {
      ".read": true,
      ".write": true,
      ".indexOn": ["timestamp", "status"]
    },
    
    "transactions": {
      ".read": true,
      ".write": true,
      ".indexOn": ["reference", "paymentLinkId", "wompiTransactionId", "status", "restaurantId"]
    },
    
    "_backup_pedidos_legacy": {
      ".read": true,
      ".write": false
    }
  }
}
